---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# overture

  <!-- badges: start -->
  [![R-CMD-check](https://github.com/boettiger-lab/overture/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/boettiger-lab/overture/actions/workflows/R-CMD-check.yaml)
  <!-- badges: end -->

Easily access spatial vector data from [Overture Maps](https://overturemaps.org/) with duckdb.

## Installation

You can install the development version of overture from [GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("boettiger-lab/overture")
```

## Getting Started

```{r include=FALSE}
# Cirrus NVME access, internal use
duckdbfs::duckdb_secrets()
options("overture-bucket" = "public-overturemaps")




# Configure to s3
duckdbfs::duckdb_secrets(key = "", secret = "",
                         endpoint = "s3.amazonaws.com",
                         bucket = "overturemaps-us-west-2")

```

```{r}
library(overture)
```

```{r}
ca <- get_division("California", type = "region")
```

This returns an `sf` object:

```{r}
library(sf)
plot(ca[1])
```

optionally, use mapgl wrapepr to see an interactive map:

```{r}
usa <- get_division("United States")
map(usa)
```


## Deeper access

The `overture()` function provides access to all of overture through lazy dplyr connections.

```{r include=FALSE}
options("overture-bucket" = "overturemaps-us-west-2/release")
```

Here are just a few of the other endpoints:

```{r}
land_cover <- overture("base", "land_cover")
buildings <-  overture("buildings", "building")
places <-  overture("places")
```





